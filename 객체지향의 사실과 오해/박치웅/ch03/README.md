타입과 추상화

- 추상화를 통한 복잡성 극복
"진정한 의미에서 추상화란 현실에서 출발하되 불필요한 부분을 도려내가면서 사물의 놀라운 본질을 드러나게 하는 과정" 이다.
예시로 해리 벡의 지하철 노선도에서 불필요한 지형 정보를 제거하고, 역과 역 사이의 연결성을 강조하여 승객들의 목적에 맞게 현실을 단순화 했다.
이러한 훌륭한 추상화는 목적에 부합하는 것이여야 한다.

위와 같은 추상화에 대한 목적과 방향성이 디자인 패턴과 비슷하다고 생각했다. 디자인 패턴 또한 각 클래스의 목적과 핵심 개념과 기능에 집중하도록 설계를 한다고 생각을 한다.

이와 같은 목적이 비슷하다고 느꼈다.


- 객체지향과 추상화
앨리스의 입장처럼 객체는 제각기 독특한 모습을 하며 독특한 행동 양식을 지녀도, "기껏해야 트럼프에 불과해" 라고 생각했다. 
객체들중에서 하얀 토끼를 제외하고는 병사, 왕자 공주 등 상관하지 않고 다 같은 트럼프란 객체로 생각을 한다는 것이다. 

즉, 트럼프란 유사성을 기반으로 추상화해서 바라보고 있다는 것이다.

- 그룹으로 나누어 단순화 하기
인물들의 다양한 측면으로 서로를 구별할 수 있는 독특한 특징들을 가지고 있다. 예를 들어 병사, 신화 왕자, 공주, 하객 등 특을 이해하고 서로를 쉽게 구분할 수 있다.
이처럼 명확한 경계를 가지고 서로 구별할 수 있는 구체적인 사람이나 사물을 객체지향 패러다임에서는 객체라고 한다.

- 개념
앨리스가 인물들의 차이점을 무시하고 공통점만을 취해 트럼프라는 개념으로 단순화 한것은 추상화의 일종이다.
앨리스가 했던 추상화 처럼 공통점을 기반으로 객체들을 묶기 위한 그릇이 "개념" 이다.
앨리스는 트럼프라는 개념으로 추상화를 한 것 이다.

- 개념의 세 가지 관점
- 심볼 (트럼프): 개념을 가리키는 간략한 이름이나 명칭
- 내연 (몸이 납작하고 두 손과 두 발은 네모 귀퉁이에 달려있는 인물): 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인
- 외연 (정원사, 병사, 신하, 공주, 왕자 등등 ) : 개념에 속하는 모든 객체의 집합

- 객체를 분류하기 위한 틀
분류란 특정한 객체를 특정한 개념의 객체 집합에서 포함시키거나 포합시키지 않는 작업을 의미.
또한 분류는 추상화를 위한 도구다.

- 타입
타입은 객체가 어떤 메시지를 수신할 수 있는지 정의
객체의 내부 상태나 구현보다는 어떤 메시지를 처리할 수 있는가가 더 중요
타입은 객체가 수행할 수 있는 행동에 대한 계약을 명확히 함
타입은 객체의 인터페이스를 정의 함.

ex ) "문자열".length() 와 같이 문자열 객체는 .length() 메시지를 받을 수 있는 "타입" 이다.

- 타입과 타입 사이에는 일반화/특수화 관계가 존재 한다. 트럼프는 트럼프 인간보다 더 일반적인 개념이다. 
트럼프는 트럼프 인간에 속하는 객체를 포함한다는 의미다.

- 일반화는 추상화를 위한 도구다.
추상화의 두 번쨰 차원은중요한 부분을 강조하기 위해 불필요한 세부사항을 제거시켜 단순하게 만드는 것이다.
일반화/특수화 계층은 객체지향 패러다임에서 추상화의 두 번째 찬원을 적절하게 활용하는 대표적이 예다.


- 타입의 목적
타입을 사용하는 이유는 인간의 인지 능력으로는 시간에 따라 동적으로 변하는객체의 복잡성을 극복하기가 너무 어렵기 때문이다.
예를 들어 앨리스가 음식을 먹던 키가 커지던 작아지던 앨리스는 앨리스다.

- 그래서 결국 타입은 추상화다.
불필요한 시간이라는 요소와 상태 변화라는 요소를 제거하고 철저하게 정적인 관점에서앨리스의 모습을묘사하는 것을 가능하게 해준다.
- > 이게 좀 이해가 안돼. 너네가 이해 좀 시켜줘.
  

- 동적 모델과 정적 모델
객체가 특정 시점에 구체적으로 어떤 상태를 가지느냐가 객체의 스냅샷이라고 한다.
스냅샷 처럼 실제로 객체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지를 포착하는 것을 동적모델이라고 한다.

ex) 앨리스의 상태가 시간에 따라 계속 변화하는걸 볼 수 있는게 동적모델이라고 이해함.

객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것이 타입 모델이다.
이 모델은 동적으로 변하는 객체의 상태가 아니라 객체가 속한타입의 정적인 모습을 표현하기 때문에 정적 모델이라고 한다.

ex) 앨리스가 변하던 말던 앨리스는 앨리스다 이게 정적 모델로 이해함. 초기화 한 엔티티?

- 클래스
그래서 결국 객체지향 프로그래밍 언어에서정적인 모델은 클래스를 이용해 구현된다. 타입을 구현하는 가장 보편적인방법이다.
그렇다고 클래스와 타입은 동일한게 아니고 타입은 객체를 분류하기 위해 사용하는 "개념" 일 뿐이다.
반면 클래스는 단지 타입을 구현할 수 있는 여러 메커니즘 중 하나이다.

그니까 결국 클래스와 타입을 동일한 개념으로 보면 안된다. 그래야 설계를 유연하게 할 수 있다.
클래스는 타입의 구현 외에도 코드를 재사용하는 용도로 사용되서 클래스와 타입을 동일시 할 수 있지만 그러면 안돼~~!

"객체를 분류하는 기준은 타입이고 타입을 나누는 기준은 객체가 수행하는 행동이다"
"객체를 분류하기 위해 타입을 결정한 후 프로그래밍 언어를 이용해 타입을 구현할 수 있는 한 가지 방법이 클래스 인 것이다."

- 마무리
객체지향에서 중요한 것은 동적으로 변하는 객체의 '상태'와 상태를 변경하는 '행위' 이다.
클래스는 타입을 구현하기 위해 프로그래밍 언어에서 제공하는 구현 매커니즘일 뿐.
